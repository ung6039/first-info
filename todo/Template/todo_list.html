<!DOCTYPE html>

<head>
</head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<style>
.container{
 text-align: center;
}
</style>
<style type="text/css">
	#box{
		margin: auto;
		width: 500px;
		height:500px;
		background: cornflowerblue;
		
		font-size: 80px;
		text-align: center;
		line-height: 500px;
	}
</style>
<script type="text/javascript">
	var timer;
	function start(){
		stop();
		timer = setInterval(function() {
			var date = new Date();
			var hour = date.getHours();
			var min = date.getMinutes();
			var sec = date.getSeconds();
			
			//12 
			var am_pm = "p.m";
			if (hour > 12){
				hour = hour -12;
			}
			else if (hour < 12){
				am_pm ="am";
			}
			function zero(num){
				if (num <10){
					num = "0" +num;
				}
				return num;
			}
			// 화면에 표시 되는 내용
			document.getElementById("box").innerText=
				zero(hour)+":" +zero(min) +":"+zero(sec)+am_pm;
		},1000)
	}
	function stop(){
		clearInterval(timer);
	}
</script>
<body>
    <div class="profile" style="background-image: url(/static/img/list_image.jpg); width:100%;height:300px;">
</div>
 
 <button onclick="start();" value="start">start</button>
		<button onclick="stop();" value="stop">stop</button>
			<div id="box" style="color:black;"></div>
<div class="container">
    <div style="margin: 10px;">
        <form method="post" action="">
            {% csrf_token %}
            <h1 style="float:left;">{{ form.as_p}}</h1>
            <button class="btn btn-sm btn-primary" style="height:60px;" type="submit">추가</button>
        </form>
        <br>
        
        <h1>{{ now }}</h1>
        
    </div>
    <img src="/static/img/Todolist.jpg" style="text-align: left;"> 
    <table class="table" style="background-color: beige;">
        <th>해야할 일</th>
        {% for todo in todos %}
        <tr>
            {% if todo.is_done == False %}
            <th style="width:20%; text-align: center;">
                {{ todo.task }}
            </th>
            <th style="text-align: left;" class="list_id">
                <b>{{ todo.is_done }}</b>
            </th>
            <td>
                <h4>START !!</h4> 
                {{ todo.Todo_time}}
            </td>
            <td style="width:30%;text-align: right;">
                <a class="btn btn-sm btn-danger" href="{% url 'reload' pk=todo.pk %}">완료</a>
                <a class ="btn btn-sm btn-primary" href="{% url 'todo_del' pk=todo.pk %}">삭제</a>
            </td>
        </tr>
        {% endif %} 
        {% endfor %}
    </table>
    <table class="table" style="background-color: bisque;"> 
        <tr>
            <th>완료 목록</th>
        </tr>
        {% for todo in todos %}
        {% if todo.is_done == True %}
        <tr>
            <th style="width:20%; text-align: center;">
                {{ todo.task }}
            </th>
            <th style="text-align: left;" class="list_id" style="background-color: blue;">
                <b>{{ todo.is_done }}</b>
            </th>
            <td>
                <h4>Complete!!</h4>
                {{ todo.Todo_time }}</td>
            <td style="text-align: right;">
                <a class ="btn btn-sm btn-primary" href="{% url 'back' pk=todo.pk %}">back(다시 하기)</a>
                <a class="btn btn-sm btn-danger" href="{% url 'todo_del' pk=todo.pk %}">삭제</a>
            </td>
        </tr>
        {% endif %}
        {% endfor %}
    </table>
</div>
</body>
